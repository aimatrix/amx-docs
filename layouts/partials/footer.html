{{- $enableFooterSwitches := .Scratch.Get "enableFooterSwitches" | default false -}}
{{- $displayThemeToggle := site.Params.theme.displayToggle | default true -}}
{{- $footerSwitchesVisible := and $enableFooterSwitches (or hugo.IsMultilingual $displayThemeToggle) -}}

<footer class="hextra-footer hx:bg-gray-100 hx:pb-[env(safe-area-inset-bottom)] hx:dark:bg-neutral-900 hx:print:bg-transparent">
  {{- if $footerSwitchesVisible -}}
    <div class="hx:mx-auto hx:flex hx:gap-2 hx:py-2 hx:px-4 hextra-max-footer-width">
      {{- partial "language-switch.html" (dict "context" .) -}}
      {{- with $displayThemeToggle }}{{ partial "theme-toggle.html" }}{{ end -}}
    </div>
    {{- if or hugo.IsMultilingual $displayThemeToggle -}}
      <hr class="hx:border-gray-200 hx:dark:border-neutral-800" />
    {{- end -}}
  {{- end -}}
  <div class="hextra-custom-footer hextra-max-footer-width hx:pl-[max(env(safe-area-inset-left),1.5rem)] hx:pr-[max(env(safe-area-inset-right),1.5rem)] hx:text-gray-600 hx:dark:text-gray-400">
    {{- partial "custom/footer.html" (dict "context" . "switchesVisible" $footerSwitchesVisible) -}}
  </div>
  <div style="text-align: center; padding: 20px; border-top: 1px solid rgba(0, 255, 0, 0.2); background: #000000;">
    <p style="color: #888; font-size: 0.9em; margin: 0;">Â© {{ now.Year }} AIMatrix. All rights reserved.</p>
  </div>
</footer>